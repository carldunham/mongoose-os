namespace: http://mongoose-iot.com/fw
name: ATCA
methods:
  GetConfig:
    doc: Get device config
    result:
      type: object
      properties:
        config:
          type: string
          doc: Base64 encoded contents of the config zone

  SetConfig:
    doc: Set device config
    args:
      config:
        type: string
        doc: Base64 encoded contents of the config zone

  LockZone:
    doc: Lock the specified zone
    args:
      zone:
        type: integer
        doc: Idenitifier of the zone to lock. 0 - config, 1 - data
      slot:
        type: integer
        doc: Slot number, 0 to 15

  SetKey:
    doc: Set key in the specified slot, ECC or symmetric
    args:
      slot:
        type: integer
        doc: Slot number, 0 to 15
      key:
        type: string
        doc: Base64 encoded key
      wkslot:
        type: integer
        doc: CRC32 of the key
      wkey:
        type: string
        doc: Base64 encoded write key

  GenKey:
    doc: Generate a new private ECC key in the specified slot
    args:
      slot:
        type: integer
        doc: Slot number, 0 to 15
    result:
      type: object
      properties:
        pubkey:
          type: string
          doc: Base64 encoded public key corresponding to the newly generated private key

  GetPubKey:
    doc: Retrieve the public key, possibly corresponding to a private key
    args:
      slot:
        type: integer
        doc: Slot number, 0 to 15
    result:
      type: object
      properties:
        pubkey:
          type: string
          doc: Base64 encoded public key corresponding to the key stored in the given slot

  Sign:
    doc: Sign a 32-byte digest with a private ECC key
    args:
      slot:
        type: integer
        doc: Slot number, 0 to 7
      digest:
        type: string
        doc: Base64 encoded digest to sign. Must be 32 bytes.
    result:
      type: object
      properties:
        signature:
          type: string
          doc: Base64 encoded signature
